var mainPageApp=function(n){"use strict";return n.Init=function(){(new WOW).init();$(function(){$(".video-btn").click(function(){var n=$(this).data("target"),t=$(this).attr("data-video"),i=t+"?modestbranding=1&rel=0&controls=0&showinfo=0&html5=1&autoplay=1";$(n+" iframe").attr("src",i);$(n+" button.close").click(function(){$(n+" iframe").attr("src",t)})});$("#videoModal").on("hidden.bs.modal",function(){$("#videoModal iframe").attr("src",$("#videoModal iframe").attr("src",""))})})},n}({});"function"!=typeof Object.create&&(Object.create=function(n){function t(){}return t.prototype=n,new t}),function(n,t,i){var r=function(i){"undefined"==typeof YT&&void 0===t.loadingPlayer?(t.loadingPlayer=!0,t.dfd=n.Deferred(),t.onYouTubeIframeAPIReady=function(){t.onYouTubeIframeAPIReady=null;t.dfd.resolve("done");i()}):"object"==typeof YT?i():t.dfd.done(function(){i()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:n(t).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function(u,f){var h,o,s,e=this;return e.userOptions=f,e.$body=n("body"),e.$node=n(u),e.$window=n(t),e.defaults.events={onReady:function(n){e.onPlayerReady(n);e.options.pauseOnScroll&&e.pauseOnScroll();"function"==typeof e.options.callback&&e.options.callback.call(this)},onStateChange:function(n){1===n.data?(e.$node.find("img").fadeOut(400),e.$node.addClass("loaded")):0===n.data&&e.options.repeat&&e.player.seekTo(e.options.start)}},e.options=n.extend(!0,{},e.defaults,e.userOptions),e.options.height=Math.ceil(e.options.width/e.options.ratio),e.ID=(new Date).getTime(),e.holderID="YTPlayer-ID-"+e.ID,e.options.fitToBackground?e.createBackgroundVideo():e.createContainerVideo(),e.$window.on("resize.YTplayer"+e.ID,function(){e.resize(e)}),h=e.onYouTubeIframeAPIReady.bind(e),o=i.createElement("script"),s=i.getElementsByTagName("head")[0],o.src="file://"==t.location.origin?"http://www.youtube.com/iframe_api":"//www.youtube.com/iframe_api",s.appendChild(o),s=null,o=null,r(h),e.resize(e),e},pauseOnScroll:function(){var n=this;n.$window.on("scroll.YTplayer"+n.ID,function(){1===n.player.getPlayerState()&&n.player.pauseVideo()});n.$window.scrollStopped(function(){2===n.player.getPlayerState()&&n.player.playVideo()})},createContainerVideo:function(){var t=this,i=n('<div id="ytplayer-container'+t.ID+'" >                                    <div id="'+t.holderID+'" class="ytplayer-player"><\/div>                                     <\/div>                                     <div id="ytplayer-shield" class="ytplayer-shield"><\/div>');t.$node.append(i);t.$YTPlayerString=i;i=null},createBackgroundVideo:function(){var t=this,i=n('<div id="ytplayer-container'+t.ID+'" class="ytplayer-container background">                                    <div id="'+t.holderID+'" class="ytplayer-player"><\/div>                                    <\/div>                                    <div id="ytplayer-shield" class="ytplayer-shield"><\/div>');t.$node.append(i);t.$YTPlayerString=i;i=null},resize:function(i){var r=n(t);i.options.fitToBackground||(r=i.$node);var e,o,u=r.width(),f=r.height(),s=n("#"+i.holderID);u/i.options.ratio<f?(e=Math.ceil(f*i.options.ratio),s.width(e).height(f).css({left:(u-e)/2,top:0})):(o=Math.ceil(u/i.options.ratio),s.width(u).height(o).css({left:0,top:(f-o)/2}));s=null;r=null},onYouTubeIframeAPIReady:function(){var n=this;n.player=new t.YT.Player(n.holderID,n.options)},onPlayerReady:function(n){this.options.mute&&n.target.mute();n.target.playVideo()},getPlayer:function(){return this.player},destroy:function(){var i=this;i.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded");i.$YTPlayerString.remove();n(t).off("resize.YTplayer"+i.ID);n(t).off("scroll.YTplayer"+i.ID);i.$body=null;i.$node=null;i.$YTPlayerString=null;i.player.destroy();i.player=null}};n.fn.scrollStopped=function(t){var i=n(this),r=this;i.scroll(function(){i.data("scrollTimeout")&&clearTimeout(i.data("scrollTimeout"));i.data("scrollTimeout",setTimeout(t,250,r))})};n.fn.YTPlayer=function(t){return this.each(function(){var i=this,r;n(i).data("yt-init",!0);r=Object.create(YTPlayer);r.init(i,t);n.data(i,"ytPlayer",r)})}}(jQuery,window,document)